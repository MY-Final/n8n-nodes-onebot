# n8n-nodes-onebot

![npm](https://img.shields.io/npm/v/n8n-nodes-onebot-api)
![license](https://img.shields.io/npm/l/n8n-nodes-onebot-api)

> **n8n ç¤¾åŒºèŠ‚ç‚¹**ï¼šé€šè¿‡ [OneBot v11 æ ‡å‡† API](https://11.onebot.dev) ä¸ QQ æœºå™¨äººé›†æˆï¼Œå®ç°è‡ªåŠ¨åŒ–å·¥ä½œæµä¸èŠå¤©æœºå™¨äººçš„äº¤äº’ã€‚

## ğŸ“– ç›®å½•

- [å®‰è£…](#å®‰è£…)
- [åŠŸèƒ½æ¦‚è§ˆ](#åŠŸèƒ½æ¦‚è§ˆ)
- [åŠŸèƒ½åˆ†ç±»è¡¨](#åŠŸèƒ½åˆ†ç±»è¡¨)
- [å‡­è¯é…ç½®](#å‡­è¯é…ç½®)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [å…¼å®¹æ€§](#å…¼å®¹æ€§)
- [å‚è€ƒèµ„æº](#å‚è€ƒèµ„æº)

## ğŸš€ å®‰è£…

### åœ¨ n8n ä¸­å®‰è£…

1. æ‰“å¼€ n8n
2. å‰å¾€ **Community Nodes**
3. æœç´¢å¹¶å®‰è£… `n8n-nodes-onebot-api`

ğŸ“‘ **å‚è€ƒæ–‡æ¡£**ï¼š[n8n ç¤¾åŒºèŠ‚ç‚¹å®‰è£…æŒ‡å—](https://docs.n8n.io/integrations/community-nodes/installation/)

## âœ¨ åŠŸèƒ½æ¦‚è§ˆ

### æœºå™¨äººæ“ä½œ

* `get_login_info`ï¼šè·å–å½“å‰ç™»å½•çŠ¶æ€ä¿¡æ¯

### å¥½å‹æ“ä½œ

* `get_friend_list`ï¼šè·å–å¥½å‹åˆ—è¡¨
* `get_stranger_info`ï¼šè·å–é™Œç”Ÿäººä¿¡æ¯
* `send_like`ï¼šå‘é€å¥½å‹èµ
* `send_friend_poke`ï¼šç§èŠæˆ³ä¸€æˆ³

### ç¾¤ç»„æ“ä½œ

* `get_group_list`ï¼šè·å–ç¾¤åˆ—è¡¨
* `get_group_info`ï¼šè·å–ç¾¤è¯¦ç»†ä¿¡æ¯
* `get_group_member_list`ï¼šè·å–ç¾¤æˆå‘˜åˆ—è¡¨
* `get_group_member_info`ï¼šè·å–ç¾¤æˆå‘˜ä¿¡æ¯
* `set_group_kick`ï¼šè¸¢å‡ºç¾¤æˆå‘˜
* `set_group_ban`ï¼šç¦è¨€ç¾¤æˆå‘˜
* `set_group_whole_ban`ï¼šå…¨å‘˜ç¦è¨€
* `set_group_name`ï¼šè®¾ç½®ç¾¤åç§°
* `set_group_admin`ï¼šè®¾ç½®æˆ–å–æ¶ˆç®¡ç†å‘˜æƒé™
* `group_poke`ï¼šç¾¤å†…æˆ³ä¸€æˆ³
* `set_group_sign`ï¼šè®¾ç½®ç¾¤ç­¾åˆ°

### æˆå‘˜å…³ç³»æ“ä½œ

* `set_group_leave`ï¼šé€€å‡ºç¾¤èŠ
* `delete_friend`ï¼šåˆ é™¤å¥½å‹
* `batch_operation`ï¼šæ‰¹é‡é€€ç¾¤å’Œåˆ é™¤å¥½å‹ï¼ˆæ”¯æŒç™½åå•ï¼‰
* `random_delete_friends`ï¼šéšæœºåˆ é™¤å¥½å‹ï¼ˆæ”¯æŒç™½åå•ï¼‰

### æ¶ˆæ¯æ“ä½œ

* `send_private_msg`ï¼šå‘é€ç§èŠæ¶ˆæ¯
* `send_group_msg`ï¼šå‘é€ç¾¤æ¶ˆæ¯

**åŠŸèƒ½äº®ç‚¹**ï¼š

* âœ… æ”¯æŒå‘é€å›¾ç‰‡ï¼ˆç½‘ç»œå›¾ç‰‡ã€æœ¬åœ°å›¾ç‰‡ã€Base64 ç¼–ç ï¼‰
* âœ… æ”¯æŒ @å…¨ä½“æˆå‘˜ æˆ– @ç‰¹å®šæˆå‘˜

### å…¶ä»–æ“ä½œ

* `get_status`ï¼šè·å–èŠ‚ç‚¹çŠ¶æ€
* `get_version_info`ï¼šè·å–ç‰ˆæœ¬ä¿¡æ¯

## ğŸ“Š åŠŸèƒ½åˆ†ç±»è¡¨

| åˆ†ç±» | æ“ä½œä»£ç  | æè¿° |
|------|---------|------|
| æœºå™¨äºº | `get_login_info` | è·å–å½“å‰ç™»å½•çŠ¶æ€ä¿¡æ¯ |
| å¥½å‹ | `get_friend_list`, `get_stranger_info`, `send_like`, `send_friend_poke` | å¥½å‹ç®¡ç†ã€ç‚¹èµä¸æˆ³ä¸€æˆ³ |
| ç¾¤ç»„ | `get_group_list`, `get_group_info`, `get_group_member_list`, `get_group_member_info`, `set_group_kick`, `set_group_ban`, `set_group_whole_ban`, `set_group_name`, `set_group_admin`, `group_poke`, `set_group_sign` | ç¾¤ç»„æŸ¥è¯¢ä¸ç®¡ç† |
| æˆå‘˜å…³ç³» | `set_group_leave`, `delete_friend`, `batch_operation`, `random_delete_friends` | é€€ç¾¤ã€åˆ é™¤å¥½å‹ä¸æ‰¹é‡æ“ä½œ |
| æ¶ˆæ¯ | `send_private_msg`, `send_group_msg` | ç§èŠï¼ç¾¤æ¶ˆæ¯æ¨é€ |
| å…¶ä»– | `get_status`, `get_version_info` | èŠ‚ç‚¹çŠ¶æ€ä¸ç‰ˆæœ¬ä¿¡æ¯æŸ¥è¯¢ |

## ğŸ” å‡­è¯é…ç½®

ä½¿ç”¨å‰è¯·åœ¨ n8n ä¸­é…ç½®ä»¥ä¸‹å‡­è¯ï¼š

* **Access Token**ï¼šè®¿é—®ä»¤ç‰Œ
* **API Base URL**ï¼šä¾‹å¦‚ `http://localhost:5678`

âš ï¸ è¯·ç¡®ä¿æœºå™¨äººæœåŠ¡å·²å¯åŠ¨ï¼Œå¹¶ç¡®ä¿ Token ä¸ URL è®¾ç½®æ­£ç¡®ï¼Œå¦åˆ™ API æ— æ³•è°ƒç”¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
n8n-nodes-onebot/
â”œâ”€â”€ credentials/                  # å‡­è¯å®šä¹‰
â”‚   â””â”€â”€ OneBotApi.credentials.ts  # OneBot API å‡­è¯é…ç½®
â”œâ”€â”€ nodes/                        # èŠ‚ç‚¹å®šä¹‰
â”‚   â””â”€â”€ OneBot/                   # OneBot èŠ‚ç‚¹
â”‚       â”œâ”€â”€ BotActions.ts         # æœºå™¨äººæ“ä½œå®ç°
â”‚       â”œâ”€â”€ FriendActions.ts      # å¥½å‹æ“ä½œå®ç°
â”‚       â”œâ”€â”€ ForwardActions.ts     # è½¬å‘æ¶ˆæ¯æ“ä½œå®ç°
â”‚       â”œâ”€â”€ GenericFunctions.ts   # é€šç”¨å‡½æ•°
â”‚       â”œâ”€â”€ GroupActions.ts       # ç¾¤ç»„æ“ä½œå®ç°
â”‚       â”œâ”€â”€ Interfaces.ts         # æ¥å£å®šä¹‰
â”‚       â”œâ”€â”€ MemberActions.ts      # æˆå‘˜å…³ç³»æ“ä½œå®ç°
â”‚       â”œâ”€â”€ MessageActions.ts     # æ¶ˆæ¯æ“ä½œå®ç°
â”‚       â”œâ”€â”€ MiscActions.ts        # å…¶ä»–æ“ä½œå®ç°
â”‚       â”œâ”€â”€ OneBot.node.json      # èŠ‚ç‚¹å…ƒæ•°æ®
â”‚       â”œâ”€â”€ OneBot.node.ts        # èŠ‚ç‚¹ä¸»ç±»
â”‚       â”œâ”€â”€ SearchFunctions.ts    # æœç´¢åŠŸèƒ½å®ç°
â”‚       â””â”€â”€ onebot.svg            # èŠ‚ç‚¹å›¾æ ‡
â”œâ”€â”€ dist/                         # ç¼–è¯‘åçš„æ–‡ä»¶
â”œâ”€â”€ .github/                      # GitHub é…ç½®
â”œâ”€â”€ package.json                  # é¡¹ç›®ä¾èµ–å’Œé…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ gulpfile.js                   # Gulp æ„å»ºé…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå‘é€ç¾¤æ¶ˆæ¯

1. æ·»åŠ  **OneBot** èŠ‚ç‚¹
2. è®¾ç½®èµ„æºä¸º `æ¶ˆæ¯`
3. æ“ä½œé€‰æ‹© `å‘é€ç¾¤æ¶ˆæ¯`
4. å¡«å†™ç›®æ ‡ç¾¤å·ä¸æ¶ˆæ¯å†…å®¹
5. å¯é€‰ï¼šæ·»åŠ å›¾ç‰‡æˆ– @æˆå‘˜
6. è¿è¡Œå·¥ä½œæµ

### ç¤ºä¾‹ 2ï¼šç¾¤ç»„ç®¡ç†

1. æ·»åŠ  **OneBot** èŠ‚ç‚¹
2. è®¾ç½®èµ„æºä¸º `ç¾¤ç»„`
3. é€‰æ‹©æ“ä½œï¼ˆå¦‚ `å…¨å‘˜ç¦è¨€`ï¼‰
4. å¡«å†™ç¾¤å·ä¸ç›¸å…³å‚æ•°
5. æ‰§è¡Œå·¥ä½œæµ

### ç¤ºä¾‹ 3ï¼šæ‰¹é‡æ“ä½œ

1. æ·»åŠ  **OneBot** èŠ‚ç‚¹
2. è®¾ç½®èµ„æºä¸º `æˆå‘˜å…³ç³»`
3. é€‰æ‹©æ“ä½œ `æ‰¹é‡æ“ä½œ`
4. é€‰æ‹©æ“ä½œæ¨¡å¼ï¼ˆé€€ç¾¤ã€åˆ å¥½å‹æˆ–ä¸¤è€…éƒ½æ‰§è¡Œï¼‰
5. å¯ç”¨ç™½åå•å¹¶é€‰æ‹©è¦ä¿ç•™çš„ç¾¤èŠ/å¥½å‹
6. æ‰§è¡Œå·¥ä½œæµ

### ç¤ºä¾‹ 4ï¼šéšæœºåˆ é™¤å¥½å‹

1. æ·»åŠ  **OneBot** èŠ‚ç‚¹
2. è®¾ç½®èµ„æºä¸º `æˆå‘˜å…³ç³»`
3. é€‰æ‹©æ“ä½œ `éšæœºåˆ é™¤å¥½å‹`
4. è®¾ç½®æœ€å¤§åˆ é™¤æ•°é‡ï¼ˆå¦‚5ï¼‰
5. å¯ç”¨ç™½åå•å¹¶é€‰æ‹©è¦ä¿ç•™çš„å¥½å‹
6. æ‰§è¡Œå·¥ä½œæµ

ğŸ’¡ **æç¤º**ï¼šæ‰§è¡Œç¾¤ç®¡ç†æ“ä½œå‰ï¼Œæœºå™¨äººéœ€å…·å¤‡ç¾¤ç®¡ç†å‘˜æƒé™ã€‚

## ğŸ”„ å…¼å®¹æ€§

æœ¬èŠ‚ç‚¹å·²åœ¨ä»¥ä¸‹ OneBot å®ç°ä¸­æµ‹è¯•é€šè¿‡ï¼š

* [NapCatQQ](https://napneko.github.io)

## ğŸ“š å‚è€ƒèµ„æº

* [n8n ç¤¾åŒºèŠ‚ç‚¹æ–‡æ¡£](https://docs.n8n.io/integrations/community-nodes/)
* [OneBot v11 æ ‡å‡†æ–‡æ¡£](https://11.onebot.dev)
* [go-cqhttp ä½¿ç”¨æ‰‹å†Œ](https://docs.go-cqhttp.org)
* [NapCatQQ æ–‡æ¡£](https://napneko.github.io/)

---
